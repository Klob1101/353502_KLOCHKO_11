{% extends 'base_enhanced.html' %}
{% load static %}

{% block title %}HTML5 Features Showcase - HeavyShop{% endblock %}

{% block meta_description %}
Comprehensive demonstration of HTML5 semantic elements, forms, multimedia, and accessibility features implemented on HeavyShop website.
{% endblock %}

{% block content %}

<!-- Breadcrumb -->
<nav aria-label="Breadcrumb">
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item"><a href="{% url 'books:home' %}">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">HTML5 Showcase</li>
    </ol>
</nav>

<div class="row">
    <main class="col-lg-8">
        <header class="mb-5">
            <h1 class="display-4 mb-3">HTML5 Features Showcase</h1>
            <p class="lead">
                This page demonstrates all the HTML5 semantic elements, forms, multimedia features, 
                and accessibility enhancements implemented throughout HeavyShop.
            </p>
        </header>

        <!-- Section 1: Semantic HTML5 Structure -->
        <section class="semantic-elements mb-5" aria-labelledby="semantic-heading">
            <header>
                <h2 id="semantic-heading" class="h3 mb-4">
                    <i class="bi bi-code-slash text-primary"></i>
                    Semantic HTML5 Structure
                </h2>
            </header>
            
            <div class="row g-4">
                <div class="col-md-6">
                    <article class="card h-100">
                        <div class="card-header bg-primary text-white">
                            <h3 class="h6 mb-0">Document Structure</h3>
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                <li><code>&lt;header&gt;</code> - Page/section headers</li>
                                <li><code>&lt;nav&gt;</code> - Navigation menus</li>
                                <li><code>&lt;main&gt;</code> - Main content area</li>
                                <li><code>&lt;article&gt;</code> - Standalone content</li>
                                <li><code>&lt;section&gt;</code> - Thematic content groups</li>
                                <li><code>&lt;aside&gt;</code> - Sidebar content</li>
                                <li><code>&lt;footer&gt;</code> - Page/section footers</li>
                            </ul>
                        </div>
                    </article>
                </div>
                
                <div class="col-md-6">
                    <article class="card h-100">
                        <div class="card-header bg-success text-white">
                            <h3 class="h6 mb-0">Content Elements</h3>
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                <li><code>&lt;figure&gt;</code> & <code>&lt;figcaption&gt;</code> - Images with captions</li>
                                <li><code>&lt;time&gt;</code> - Dates and times</li>
                                <li><code>&lt;address&gt;</code> - Contact information</li>
                                <li><code>&lt;details&gt;</code> & <code>&lt;summary&gt;</code> - Expandable content</li>
                                <li><code>&lt;mark&gt;</code> - Highlighted text</li>
                                <li><code>&lt;progress&gt;</code> - Progress indicators</li>
                            </ul>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Section 2: Enhanced Forms -->
        <section class="enhanced-forms mb-5" aria-labelledby="forms-heading">
            <header>
                <h2 id="forms-heading" class="h3 mb-4">
                    <i class="bi bi-ui-checks text-success"></i>
                    HTML5 Enhanced Forms
                </h2>
            </header>
            
            <form class="row g-3" novalidate>
                <div class="col-md-6">
                    <label for="demo-email" class="form-label">Email Input</label>
                    <input type="email" 
                           class="form-control" 
                           id="demo-email" 
                           placeholder="user@example.com"
                           required>
                    <div class="invalid-feedback">Please provide a valid email address.</div>
                </div>
                
                <div class="col-md-6">
                    <label for="demo-tel" class="form-label">Telephone Input</label>
                    <input type="tel" 
                           class="form-control" 
                           id="demo-tel" 
                           placeholder="+375 29 123 45 67"
                           pattern="[+]?[0-9\s\-\(\)]+"
                           title="Please enter a valid phone number">
                </div>
                
                <div class="col-md-6">
                    <label for="demo-url" class="form-label">URL Input</label>
                    <input type="url" 
                           class="form-control" 
                           id="demo-url" 
                           placeholder="https://example.com">
                </div>
                
                <div class="col-md-6">
                    <label for="demo-search" class="form-label">Search Input</label>
                    <input type="search" 
                           class="form-control" 
                           id="demo-search" 
                           placeholder="Search books...">
                </div>
                
                <div class="col-md-4">
                    <label for="demo-number" class="form-label">Number Input</label>
                    <input type="number" 
                           class="form-control" 
                           id="demo-number" 
                           min="1" 
                           max="100" 
                           step="1"
                           placeholder="1-100">
                </div>
                
                <div class="col-md-4">
                    <label for="demo-range" class="form-label">Range Input</label>
                    <input type="range" 
                           class="form-range" 
                           id="demo-range" 
                           min="0" 
                           max="100" 
                           value="50"
                           oninput="document.getElementById('range-value').textContent = this.value">
                    <div class="form-text">Value: <span id="range-value">50</span></div>
                </div>
                
                <div class="col-md-4">
                    <label for="demo-color" class="form-label">Color Input</label>
                    <input type="color" 
                           class="form-control form-control-color" 
                           id="demo-color" 
                           value="#0d6efd">
                </div>
                
                <div class="col-md-6">
                    <label for="demo-date" class="form-label">Date Input</label>
                    <input type="date" 
                           class="form-control" 
                           id="demo-date">
                </div>
                
                <div class="col-md-6">
                    <label for="demo-datetime" class="form-label">DateTime-Local Input</label>
                    <input type="datetime-local" 
                           class="form-control" 
                           id="demo-datetime">
                </div>
                
                <div class="col-md-6">
                    <label for="demo-time" class="form-label">Time Input</label>
                    <input type="time" 
                           class="form-control" 
                           id="demo-time">
                </div>
                
                <div class="col-md-6">
                    <label for="demo-week" class="form-label">Week Input</label>
                    <input type="week" 
                           class="form-control" 
                           id="demo-week">
                </div>
                
                <div class="col-12">
                    <label for="demo-datalist" class="form-label">Datalist Input</label>
                    <input list="book-genres" 
                           class="form-control" 
                           id="demo-datalist"
                           placeholder="Choose or type a genre...">
                    <datalist id="book-genres">
                        <option value="Fiction">
                        <option value="Non-Fiction">
                        <option value="Science Fiction">
                        <option value="Fantasy">
                        <option value="Mystery">
                        <option value="Romance">
                        <option value="Biography">
                        <option value="History">
                    </datalist>
                </div>
                
                <div class="col-12">
                    <div class="form-check">
                        <input class="form-check-input" 
                               type="checkbox" 
                               id="demo-required" 
                               required>
                        <label class="form-check-label" for="demo-required">
                            I agree to the terms and conditions (required)
                        </label>
                        <div class="invalid-feedback">You must agree before submitting.</div>
                    </div>
                </div>
                
                <div class="col-12">
                    <button type="submit" class="btn btn-primary">
                        <i class="bi bi-check-lg me-2"></i>Validate Form
                    </button>
                    <button type="reset" class="btn btn-outline-secondary ms-2">
                        <i class="bi bi-arrow-clockwise me-2"></i>Reset Form
                    </button>
                </div>
            </form>
        </section>

        <!-- Section 3: Multimedia Elements -->
        <section class="multimedia mb-5" aria-labelledby="multimedia-heading">
            <header>
                <h2 id="multimedia-heading" class="h3 mb-4">
                    <i class="bi bi-play-circle text-info"></i>
                    Multimedia Elements
                </h2>
            </header>
            
            <div class="row g-4">
                <div class="col-md-6">
                    <article class="card">
                        <div class="card-header">
                            <h3 class="h6 mb-0">Audio Element</h3>
                        </div>
                        <div class="card-body">
                            <audio controls class="w-100" preload="metadata">
                                <source src="{% static 'audio/sample.mp3' %}" type="audio/mpeg">
                                <source src="{% static 'audio/sample.ogg' %}" type="audio/ogg">
                                <track kind="captions" srclang="en" label="English captions" src="{% static 'captions/sample_en.vtt' %}">
                                Your browser does not support the audio element.
                                <p>
                                    <a href="{% static 'audio/sample.mp3' %}" download>
                                        Download audio sample
                                    </a>
                                </p>
                            </audio>
                            <p class="small text-muted mt-2">
                                Sample audiobook excerpt with multiple format support and captions.
                            </p>
                        </div>
                    </article>
                </div>
                
                <div class="col-md-6">
                    <article class="card">
                        <div class="card-header">
                            <h3 class="h6 mb-0">Video Element</h3>
                        </div>
                        <div class="card-body">
                            <video controls class="w-100" preload="metadata" poster="{% static 'images/video-poster.jpg' %}">
                                <source src="{% static 'video/sample.mp4' %}" type="video/mp4">
                                <source src="{% static 'video/sample.webm' %}" type="video/webm">
                                <track kind="subtitles" srclang="en" label="English" src="{% static 'captions/sample_en.vtt' %}" default>
                                <track kind="subtitles" srclang="ru" label="Русский" src="{% static 'captions/sample_ru.vtt' %}">
                                Your browser does not support the video element.
                                <p>
                                    <a href="{% static 'video/sample.mp4' %}" download>
                                        Download video
                                    </a>
                                </p>
                            </video>
                            <p class="small text-muted mt-2">
                                Author interview with subtitle support in multiple languages.
                            </p>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <!-- Section 4: Advanced HTML5 Elements -->
        <section class="advanced-elements mb-5" aria-labelledby="advanced-heading">
            <header>
                <h2 id="advanced-heading" class="h3 mb-4">
                    <i class="bi bi-gear text-warning"></i>
                    Advanced HTML5 Elements
                </h2>
            </header>
            
            <div class="row g-4">
                <div class="col-md-6">
                    <!-- Progress and Meter -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="h6 mb-0">Progress & Meter Elements</h3>
                        </div>
                        <div class="card-body">
                            <div class="mb-3">
                                <label for="download-progress" class="form-label">Download Progress</label>
                                <progress id="download-progress" 
                                         class="progress-bar" 
                                         value="70" 
                                         max="100"
                                         style="width: 100%; height: 20px;">
                                    70%
                                </progress>
                                <div class="form-text">70% complete</div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="storage-meter" class="form-label">Storage Usage</label>
                                <meter id="storage-meter" 
                                       class="meter-bar"
                                       value="6" 
                                       min="0" 
                                       max="10" 
                                       high="8" 
                                       optimum="5"
                                       style="width: 100%; height: 20px;">
                                    6 out of 10
                                </meter>
                                <div class="form-text">6GB of 10GB used</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <!-- Details and Summary -->
                    <div class="card">
                        <div class="card-header">
                            <h3 class="h6 mb-0">Collapsible Content</h3>
                        </div>
                        <div class="card-body">
                            <details class="mb-3">
                                <summary class="fw-bold text-primary" style="cursor: pointer;">
                                    <i class="bi bi-chevron-right me-1"></i>
                                    Book Details
                                </summary>
                                <div class="mt-2 ps-3">
                                    <p class="mb-2"><strong>ISBN:</strong> 978-0-123456-78-9</p>
                                    <p class="mb-2"><strong>Publisher:</strong> Academic Press</p>
                                    <p class="mb-2"><strong>Pages:</strong> 256</p>
                                    <p class="mb-0"><strong>Language:</strong> English</p>
                                </div>
                            </details>
                            
                            <details>
                                <summary class="fw-bold text-success" style="cursor: pointer;">
                                    <i class="bi bi-chevron-right me-1"></i>
                                    Shipping Information
                                </summary>
                                <div class="mt-2 ps-3">
                                    <p class="mb-2">Free shipping on orders over 50 BYN</p>
                                    <p class="mb-2">Standard delivery: 2-3 business days</p>
                                    <p class="mb-0">Express delivery: Next business day</p>
                                </div>
                            </details>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Tables with Accessibility -->
        <section class="accessible-tables mb-5" aria-labelledby="tables-heading">
            <header>
                <h2 id="tables-heading" class="h3 mb-4">
                    <i class="bi bi-table text-danger"></i>
                    Accessible Data Tables
                </h2>
            </header>
            
            <div class="table-responsive">
                <table class="table table-striped table-hover" 
                       summary="Book inventory with prices, quantities, and availability status">
                    <caption class="caption-top">
                        Current Book Inventory - Updated <time datetime="{{ current_date|date:'c' }}">{{ current_date|date:"F j, Y" }}</time>
                    </caption>
                    
                    <thead class="table-dark">
                        <tr>
                            <th scope="col" id="book-title">Book Title</th>
                            <th scope="col" id="book-author">Author</th>
                            <th scope="col" id="book-price">Price (BYN)</th>
                            <th scope="col" id="book-stock">In Stock</th>
                            <th scope="col" id="book-rating">Rating</th>
                            <th scope="col" id="book-status">Status</th>
                        </tr>
                    </thead>
                    
                    <tbody>
                        <tr>
                            <th scope="row" headers="book-title">The Great Gatsby</th>
                            <td headers="book-author">F. Scott Fitzgerald</td>
                            <td headers="book-price">25.99</td>
                            <td headers="book-stock">15</td>
                            <td headers="book-rating">
                                <span aria-label="4.5 out of 5 stars">
                                    ★★★★★ 4.5
                                </span>
                            </td>
                            <td headers="book-status">
                                <span class="badge bg-success">Available</span>
                            </td>
                        </tr>
                        
                        <tr>
                            <th scope="row" headers="book-title">1984</th>
                            <td headers="book-author">George Orwell</td>
                            <td headers="book-price">22.50</td>
                            <td headers="book-stock">8</td>
                            <td headers="book-rating">
                                <span aria-label="4.8 out of 5 stars">
                                    ★★★★★ 4.8
                                </span>
                            </td>
                            <td headers="book-status">
                                <span class="badge bg-warning">Low Stock</span>
                            </td>
                        </tr>
                        
                        <tr>
                            <th scope="row" headers="book-title">To Kill a Mockingbird</th>
                            <td headers="book-author">Harper Lee</td>
                            <td headers="book-price">28.75</td>
                            <td headers="book-stock">0</td>
                            <td headers="book-rating">
                                <span aria-label="4.7 out of 5 stars">
                                    ★★★★★ 4.7
                                </span>
                            </td>
                            <td headers="book-status">
                                <span class="badge bg-danger">Out of Stock</span>
                            </td>
                        </tr>
                    </tbody>
                    
                    <tfoot class="table-light">
                        <tr>
                            <th scope="row" colspan="2">Total Books:</th>
                            <td>3 titles</td>
                            <td>23 copies</td>
                            <td colspan="2">Average Rating: 4.7★</td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </section>

        <!-- Section 6: Text-Level Semantics -->
        <section class="text-semantics mb-5" aria-labelledby="text-heading">
            <header>
                <h2 id="text-heading" class="h3 mb-4">
                    <i class="bi bi-type text-purple"></i>
                    Text-Level Semantic Elements
                </h2>
            </header>
            
            <div class="card">
                <div class="card-body">
                    <p>
                        HeavyShop uses various semantic elements to enhance content meaning:
                    </p>
                    
                    <dl class="row">
                        <dt class="col-sm-3">Abbreviations:</dt>
                        <dd class="col-sm-9">
                            We use <abbr title="HyperText Markup Language">HTML</abbr> and 
                            <abbr title="Cascading Style Sheets">CSS</abbr> for web development.
                        </dd>
                        
                        <dt class="col-sm-3">Code samples:</dt>
                        <dd class="col-sm-9">
                            Use <code>document.getElementById()</code> to select elements.
                        </dd>
                        
                        <dt class="col-sm-3">Keyboard input:</dt>
                        <dd class="col-sm-9">
                            Press <kbd>Ctrl</kbd> + <kbd>S</kbd> to save your work.
                        </dd>
                        
                        <dt class="col-sm-3">Variables:</dt>
                        <dd class="col-sm-9">
                            The <var>bookPrice</var> variable stores the current price.
                        </dd>
                        
                        <dt class="col-sm-3">Sample output:</dt>
                        <dd class="col-sm-9">
                            <samp>Book added to cart successfully!</samp>
                        </dd>
                        
                        <dt class="col-sm-3">Highlighted text:</dt>
                        <dd class="col-sm-9">
                            The <mark>most popular</mark> books are featured on the homepage.
                        </dd>
                        
                        <dt class="col-sm-3">Small print:</dt>
                        <dd class="col-sm-9">
                            <small>Terms and conditions apply. See our privacy policy for details.</small>
                        </dd>
                        
                        <dt class="col-sm-3">Deleted/Inserted:</dt>
                        <dd class="col-sm-9">
                            Price: <del>$29.99</del> <ins>$24.99</ins> (Sale!)
                        </dd>
                        
                        <dt class="col-sm-3">Sub/Superscript:</dt>
                        <dd class="col-sm-9">
                            Chemical formula: H<sub>2</sub>O, Mathematical: E=mc<sup>2</sup>
                        </dd>
                    </dl>
                </div>
            </div>
        </section>
    </main>

    <!-- Sidebar -->
    <aside class="col-lg-4">
        <!-- Embedded Content -->
        <section class="embedded-content mb-4" aria-labelledby="embedded-heading">
            <div class="card">
                <div class="card-header">
                    <h2 id="embedded-heading" class="h6 mb-0">
                        <i class="bi bi-window text-info"></i>
                        Embedded Content
                    </h2>
                </div>
                <div class="card-body p-0">
                    <!-- Embedded Map -->
                    <iframe src="https://www.openstreetmap.org/export/embed.html?bbox=27.5490%2C53.8906%2C27.5690%2C53.9106&amp;layer=mapnik&amp;marker=53.9006%2C27.5590"
                            width="100%" 
                            height="200"
                            frameborder="0"
                            title="HeavyShop Location Map"
                            loading="lazy"
                            referrerpolicy="no-referrer-when-downgrade">
                    </iframe>
                </div>
            </div>
        </section>

        <!-- Microdata Example -->
        <section class="microdata-example mb-4" aria-labelledby="microdata-heading">
            <div class="card">
                <div class="card-header">
                    <h2 id="microdata-heading" class="h6 mb-0">
                        <i class="bi bi-code-square text-success"></i>
                        Microdata Integration
                    </h2>
                </div>
                <div class="card-body">
                    <div itemscope itemtype="http://schema.org/Book">
                        <h3 class="h6" itemprop="name">Sample Book Title</h3>
                        <p class="small mb-2">
                            By <span itemprop="author">Author Name</span>
                        </p>
                        <p class="small mb-2">
                            <span itemprop="offers" itemscope itemtype="http://schema.org/Offer">
                                Price: <span itemprop="price" content="25.99">25.99</span>
                                <span itemprop="priceCurrency" content="BYN">BYN</span>
                            </span>
                        </p>
                        <p class="small text-muted">
                            All products include structured data for search engines.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Accessibility Features -->
        <section class="accessibility-features" aria-labelledby="a11y-heading">
            <div class="card">
                <div class="card-header">
                    <h2 id="a11y-heading" class="h6 mb-0">
                        <i class="bi bi-universal-access text-primary"></i>
                        Accessibility Features
                    </h2>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        <li class="mb-2">
                            <i class="bi bi-check-circle text-success me-2"></i>
                            Semantic HTML structure
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle text-success me-2"></i>
                            ARIA labels and roles
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle text-success me-2"></i>
                            Keyboard navigation support
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle text-success me-2"></i>
                            Screen reader compatibility
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle text-success me-2"></i>
                            High contrast color ratios
                        </li>
                        <li class="mb-2">
                            <i class="bi bi-check-circle text-success me-2"></i>
                            Responsive design
                        </li>
                        <li class="mb-0">
                            <i class="bi bi-check-circle text-success me-2"></i>
                            Alternative text for images
                        </li>
                    </ul>
                </div>
            </div>
        </section>
    </aside>
</div>

{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Form validation demo
    const demoForm = document.querySelector('form[novalidate]');
    if (demoForm) {
        demoForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (this.checkValidity()) {
                alert('Form is valid! All HTML5 validation rules passed.');
            } else {
                alert('Please fix the validation errors and try again.');
            }
            
            this.classList.add('was-validated');
        });
    }
    
    // Progress bar animation
    const progressBar = document.getElementById('download-progress');
    if (progressBar) {
        let value = 70;
        const interval = setInterval(() => {
            value += Math.random() * 5;
            if (value >= 100) {
                value = 100;
                clearInterval(interval);
                progressBar.parentElement.querySelector('.form-text').textContent = 'Download complete!';
            }
            progressBar.value = value;
            progressBar.parentElement.querySelector('.form-text').textContent = Math.round(value) + '% complete';
        }, 1000);
    }
    
    // Details/summary enhancement
    document.querySelectorAll('details').forEach(details => {
        const summary = details.querySelector('summary');
        if (summary) {
            details.addEventListener('toggle', function() {
                const icon = summary.querySelector('.bi');
                if (icon) {
                    if (this.open) {
                        icon.classList.remove('bi-chevron-right');
                        icon.classList.add('bi-chevron-down');
                    } else {
                        icon.classList.remove('bi-chevron-down');
                        icon.classList.add('bi-chevron-right');
                    }
                }
            });
        }
    });
    
    // Table sorting demo
    const table = document.querySelector('table');
    if (table) {
        const headers = table.querySelectorAll('th[scope="col"]');
        headers.forEach((header, index) => {
            header.style.cursor = 'pointer';
            header.title = 'Click to sort';
            
            header.addEventListener('click', function() {
                // Simple demo - just show that it's interactive
                const icon = this.querySelector('.sort-icon') || document.createElement('i');
                icon.className = 'sort-icon bi bi-sort-down ms-1';
                if (!this.querySelector('.sort-icon')) {
                    this.appendChild(icon);
                }
                
                // Remove sorting icons from other headers
                headers.forEach(h => {
                    if (h !== this) {
                        const otherIcon = h.querySelector('.sort-icon');
                        if (otherIcon) otherIcon.remove();
                    }
                });
            });
        });
    }
});

// Accessibility: Skip to main content
document.addEventListener('keydown', function(e) {
    // Alt + S to skip to main content
    if (e.altKey && e.key === 's') {
        e.preventDefault();
        const main = document.querySelector('main');
        if (main) {
            main.focus();
            main.scrollIntoView();
        }
    }
});
</script>

<!-- Enhanced CSS for better presentation -->
<style>
/* Form styling enhancements */
.form-control:focus,
.form-select:focus {
    border-color: #0d6efd;
    box-shadow: 0 0 0 0.2rem rgba(13, 110, 253, 0.25);
}

.was-validated .form-control:valid {
    border-color: #198754;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='m2.3 6.73l.4.31 1.4-1.4 2.1-2.1-.7-.7-1.4 1.4-.7-.7-.7.7z'/%3e%3c/svg%3e");
}

.was-validated .form-control:invalid {
    border-color: #dc3545;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath d='m5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
}

/* Progress and meter styling */
progress, meter {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
}

progress::-webkit-progress-bar {
    background-color: #e9ecef;
    border-radius: 0.25rem;
}

progress::-webkit-progress-value {
    background-color: #0d6efd;
    border-radius: 0.25rem;
}

meter::-webkit-meter-bar {
    background-color: #e9ecef;
    border-radius: 0.25rem;
}

meter::-webkit-meter-optimum-value {
    background-color: #198754;
    border-radius: 0.25rem;
}

/* Details/Summary styling */
details summary {
    list-style: none;
    padding: 0.5rem 0;
    border-bottom: 1px solid #dee2e6;
}

details summary::-webkit-details-marker {
    display: none;
}

details[open] summary {
    margin-bottom: 0.5rem;
}

/* Table enhancements */
table th[scope="col"] {
    position: relative;
    user-select: none;
}

table th[scope="col"]:hover {
    background-color: rgba(255, 255, 255, 0.1);
}

/* Responsive media */
video, audio {
    max-width: 100%;
    height: auto;
}

iframe {
    border: 1px solid #dee2e6;
    border-radius: 0.375rem;
}

/* Accessibility enhancements */
:focus {
    outline: 2px solid #0d6efd;
    outline-offset: 2px;
}

.visually-hidden {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .card {
        border: 2px solid;
    }
    
    .btn {
        border-width: 2px;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Print styles */
@media print {
    .card {
        border: 1px solid #000 !important;
        break-inside: avoid;
    }
    
    .btn, iframe, video, audio {
        display: none !important;
    }
    
    a[href]:after {
        content: " (" attr(href) ")";
    }
}
</style>

{% endblock %}